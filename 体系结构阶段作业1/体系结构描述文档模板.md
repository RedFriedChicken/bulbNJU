# 进销存系统软件体系结构描述文档

### V1.0正式版

##### 南京大学软件学院16级软工二小分队（19组）

2017-10-16

---



## 1 引言

### 1.1 编制目的

* 本报告详细完成对进销存系统的概要设计，达到知道详细设计和开发的目的，同时实现和测试人员及用户的沟通。
* 本报告面向开发人员、测试人员以及最终用户而编写，是了解系统的导航。

### 1.2 词汇表

* ​
* ​

### 1.3 参考资料

* 《进销存系统用例文档V2.0》
* 《进销存系统需求规格说明文档V1.0》
* 《软件开发的技术基础》

## 2 产品概述

* 参考进销存系统用例文档和进销存系统软件需求规格说明中对产品的概括描述。

## 3 逻辑视角

* 进销存系统中，选择了分层体系结构风格，系统分为3层（展示层、业务逻辑层、数据层）能够很好地示意整个高层抽象。展示层包括GUI页面的实现，业务逻辑层包含业务逻辑处理的实现，数据层负责数据的持久化和访问。分层体系结构的逻辑视角和逻辑设计方案如图1和图2所示。

  （图1：logic view）

  （图2:软件体系结构逻辑设计方案）

## 4 组合视角

### 4.1 开发包图

（表1：进销存系统最终开发包设计）

（图3：进销存系统客户端开发包图）

（图4：进销存系统服务器端开发包图）

### 4.2 运行时进程

* 在进销存系统中，会有多个客户端进程和一个服务器端进程，其进程图如图5所示。结合部署图，客户端进程是在客户端机器上运行，服务器端进程在服务器端机器上运行。

  （图5：进程图）

### 4.3 物理部署

* 进销存系统中客户端构件是放在服务器端机器上。在客户端节点上，还要部署RMIStub构件。由于Java RMI构件属于JDK 6.0的一部分。所以，在系统JDK环境已经设置好的情况下，不需要再独立部署。部署图如图6所示。

  （图6：部署图）

## 5 接口视角

### 5.1 模块的职责

* 客户端模块和服务器端模块视图分别如图7和图8所示。客户端各层和服务器端各层的职责分别如表2和表3所示。

  （图7：客户端模块视图）

  （图8：服务端模块视图）

  ​                                                        **表2  客户端各层的职责**

  | 层       | 职责                     |
  | :------ | :--------------------- |
  | 启动模块    | 负责初始化网络通信机制，启动用户界面     |
  | 用户界面层   | 基于窗口的进销存系统客户端界面        |
  | 业务逻辑层   | 对于用户界面的输入进行相应并进行业务处理逻辑 |
  | 客户端网络模块 | 利用Java RMI机制查找RMI服务    |

  ​                                                      **表3  服务器端各层的职责**

  | 层        | 职责                          |
  | :------- | :-------------------------- |
  | 启动模块     | 负责初始化网络通信机制，启动用户界面          |
  | 数据层      | 负责数据的持久化及数据访问接口             |
  | 服务器端网络模块 | 利用Java RMI机制开启RMI服务，注册RMI服务 |

* 每一层只是使用下方直接接触的层。层与层之间仅仅是通过接口的调用来完成的。层之间调用的接口如表4所示。

  ​                                                      **表4   层之间调用的接口**

  | 接口   | 服务调用方    | 服务提供方    |
  | :--- | :------- | :------- |
  |      | 客户端展示层   | 客户端业务逻辑层 |
  |      | 客户端业务逻辑层 | 服务器端数据层  |

  **（此处还有借用某一用例来说明层与层之间的调用）**

### 5.2 用户界面层的分解

* 根据需求，系统存在39个用户界面：登录界面、管理员界面、库存管理人员界面、进货销售人员界面、财务人员界面、总经理界面、调整用户界面、**单据类型选择**界面、销售退货单制定界面、销售单制定界面、进货单制定界面、进货退货单制定界面、客户管理界面（**增删改查合并**）、库存商品管理界面、库存分析界面、库存报单

  （图10：用户界面跳转）

* 服务器端和客户端的用户界面设计接口是一致的，只是具体的页面不一样。用户界面类如图11所示。

  （图11：用户界面类）

#### 5.2.1 用户界面层模块的职责

* 如表5所示为用户界面模块的职责。

  ​                                                     **表5  用户界面层模块的职责**

  | 模块        | 职责                    |
  | :-------- | :-------------------- |
  | MainFrame | 界面Frame，负责界面的显示和界面的跳转 |

#### 5.2.2 用户界面层模块的接口规范

* 用户界面层模块的接口规范如表6所示。

  ​                                                   **表6  用户界面层模块的接口规范**



* 用户界面层需要的服务接口如表7所示。

  **表7  用户界面层模块需要的服务接口**

####5.2.3 用户界面模块设计原理

* 用户界面Java FX来实现。

### 5.3 业务逻辑层的分解

* 业务逻辑层包括多个针对界面的业务逻辑处理对象。（**此处要补充**）

#### 5.3.1 业务逻辑层模块的职责

* 业务逻辑层模块的职责如表8所示。

  **表8  业务逻辑层模块的职责**

#### 5.3.2 业务逻辑层模块的接口规范

* 模块的接口规范

### 5.4 数据层的分解

* 数据层主要给业务逻辑层提供数据访问服务，包括对于持久化数据的增、删、改、查。（**要补充**）由于持久化的数据的保存可能存在多种形式：（**待讨论**）数据层模块的描述具体如图13所示。

  （图13：数据层模块的描述）

#### 5.4.1 数据层模块的职责

#### 5.4.2 数据层模块的接口规范

## 6 信息视角

### 6.1 数据持久化对象

### 6.2 Txt持久化格式

### 6.3 数据库表